nohup: ignoring input
2025-04-04 14:50:30.270402: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2025-04-04 14:50:31 | INFO     | __main__:__init__:47 - Khởi động BondZiA AI
2025-04-04 14:50:32 | INFO     | utils.market_hours:_get_market_holidays:74 - Đã lấy 26 ngày nghỉ lễ từ Polygon API
2025-04-04 14:50:32 | INFO     | utils.market_hours:__init__:37 - MarketHours đã được khởi tạo với múi giờ America/New_York
2025-04-04 14:50:32 | INFO     | utils.discord_notifier:__init__:55 - Khởi tạo Discord Notifier thành công
2025-04-04 14:50:33 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 14:50:34 | INFO     | utils.telegram_integration:patched_send_system_update:65 - Đã gửi thông báo hệ thống qua Telegram
2025-04-04 14:50:34 | INFO     | utils.error_handler:__init__:62 - Khởi tạo ErrorHandler thành công
2025-04-04 14:50:34 | INFO     | utils.data_fetcher:__init__:62 - Khởi tạo PolygonDataFetcher với 5 cổ phiếu
2025-04-04 14:50:34 | INFO     | utils.visualization:__init__:55 - StockVisualizer khởi tạo với theme: dark
2025-04-04 14:50:34 | INFO     | evolution.version_manager:__init__:37 - Khởi tạo VersionManager với max_versions=5
2025-04-04 14:50:34 | INFO     | utils.error_handler:setup_watchdog:73 - Đã khởi động Watchdog để theo dõi file log
2025-04-04 14:50:34 | INFO     | __main__:__init__:111 - BondZiA AI Phiên bản 1.0.14 đã sẵn sàng!
2025-04-04 14:50:34 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_145038.json
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 14:50:38 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 14:50:38 | INFO     | __main__:_ensure_model_directories:245 - Đã đảm bảo thư mục mô hình tồn tại: /home/trietvo/BondZiA/models/intraday
2025-04-04 14:50:38 | INFO     | __main__:_ensure_model_directories:245 - Đã đảm bảo thư mục mô hình tồn tại: /home/trietvo/BondZiA/models/five_day
2025-04-04 14:50:38 | INFO     | __main__:_ensure_model_directories:245 - Đã đảm bảo thư mục mô hình tồn tại: /home/trietvo/BondZiA/models/monthly
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - five_day với mô hình lstm_attention
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho TSLA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - monthly với mô hình gpt_enhanced
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho TSLA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - five_day với mô hình lstm_attention
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho NVDA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - monthly với mô hình gpt_enhanced
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho NVDA
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - five_day với mô hình lstm_attention
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho PLTR
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - monthly với mô hình gpt_enhanced
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho PLTR
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - five_day với mô hình lstm_attention
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho AMZN
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - monthly với mô hình gpt_enhanced
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho AMZN
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - five_day với mô hình lstm_attention
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho MSFT
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - monthly với mô hình gpt_enhanced
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho MSFT
2025-04-04 14:50:38 | INFO     | __main__:_check_and_train_initial_models:349 - Tất cả mô hình đã tồn tại, không cần huấn luyện ban đầu
2025-04-04 14:50:38 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 14:50:38 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_145038.json
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:50:38 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 14:50:38 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:38 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 14:50:38 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 14:50:39 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 14:50:40 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=238.86, predicted=257.25, change=7.70%, direction=up
2025-04-04 14:50:40 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - intraday: up (38.5%) - Giá: 257.25
2025-04-04 14:50:40 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:40 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - five_day với mô hình lstm_attention
2025-04-04 14:50:40 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho TSLA
2025-04-04 14:50:41 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - five_day
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 318ms/step
2025-04-04 14:50:41 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=240.33, predicted=257.13, change=6.99%, direction=up
2025-04-04 14:50:41 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - five_day: up (35.0%) - Giá: 257.13
2025-04-04 14:50:41 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:41 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - monthly với mô hình gpt_enhanced
2025-04-04 14:50:41 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho TSLA
2025-04-04 14:50:41 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - monthly
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 315ms/step
2025-04-04 14:50:42 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=240.33, predicted=257.78, change=7.26%, direction=up
2025-04-04 14:50:42 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - monthly: up (36.3%) - Giá: 257.78
2025-04-04 14:50:43 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán TSLA tại /home/trietvo/BondZiA/charts/TSLA_prediction_20250404_145042.png
2025-04-04 14:50:43 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:43 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 14:50:43 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 14:50:43 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 148ms/step
2025-04-04 14:50:43 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=111.39, predicted=107.51, change=-3.48%, direction=down
2025-04-04 14:50:43 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - intraday: down (17.4%) - Giá: 107.51
2025-04-04 14:50:43 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:43 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - five_day với mô hình lstm_attention
2025-04-04 14:50:43 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho NVDA
2025-04-04 14:50:44 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - five_day
WARNING:tensorflow:5 out of the last 5 calls to <function Model.make_predict_function.<locals>.predict_function at 0x76afb408f040> triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 567ms/step
2025-04-04 14:50:45 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=94.08, predicted=110.14, change=17.07%, direction=up
2025-04-04 14:50:45 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - five_day: up (85.4%) - Giá: 110.14
2025-04-04 14:50:45 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:45 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - monthly với mô hình gpt_enhanced
2025-04-04 14:50:45 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho NVDA
2025-04-04 14:50:45 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - monthly
WARNING:tensorflow:6 out of the last 6 calls to <function Model.make_predict_function.<locals>.predict_function at 0x76afb7263790> triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 303ms/step
2025-04-04 14:50:46 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=94.08, predicted=118.26, change=25.70%, direction=up
2025-04-04 14:50:46 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - monthly: up (99.0%) - Giá: 118.26
2025-04-04 14:50:46 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán NVDA tại /home/trietvo/BondZiA/charts/NVDA_prediction_20250404_145046.png
2025-04-04 14:50:46 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:46 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 14:50:46 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 14:50:46 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 294ms/step
2025-04-04 14:50:47 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=81.45, predicted=76.25, change=-6.39%, direction=down
2025-04-04 14:50:47 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - intraday: down (31.9%) - Giá: 76.25
2025-04-04 14:50:47 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:47 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - five_day với mô hình lstm_attention
2025-04-04 14:50:47 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho PLTR
2025-04-04 14:50:47 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - five_day
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 313ms/step
2025-04-04 14:50:47 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=74.08, predicted=86.69, change=17.02%, direction=up
2025-04-04 14:50:47 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - five_day: up (85.1%) - Giá: 86.69
2025-04-04 14:50:47 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:47 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - monthly với mô hình gpt_enhanced
2025-04-04 14:50:47 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho PLTR
2025-04-04 14:50:48 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - monthly
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 14:50:49 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=74.08, predicted=84.87, change=14.57%, direction=up
2025-04-04 14:50:49 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - monthly: up (72.8%) - Giá: 84.87
2025-04-04 14:50:50 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán PLTR tại /home/trietvo/BondZiA/charts/PLTR_prediction_20250404_145049.png
2025-04-04 14:50:50 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:50 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 14:50:50 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 14:50:50 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 145ms/step
2025-04-04 14:50:50 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=197.86, predicted=198.28, change=0.21%, direction=up
2025-04-04 14:50:50 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - intraday: up (1.1%) - Giá: 198.28
2025-04-04 14:50:50 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:50 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - five_day với mô hình lstm_attention
2025-04-04 14:50:50 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho AMZN
2025-04-04 14:50:51 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - five_day
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 237ms/step
2025-04-04 14:50:51 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=173.75, predicted=189.64, change=9.14%, direction=up
2025-04-04 14:50:51 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - five_day: up (45.7%) - Giá: 189.64
2025-04-04 14:50:51 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:51 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - monthly với mô hình gpt_enhanced
2025-04-04 14:50:51 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho AMZN
2025-04-04 14:50:51 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - monthly
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 306ms/step
2025-04-04 14:50:52 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=173.75, predicted=189.60, change=9.12%, direction=up
2025-04-04 14:50:52 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - monthly: up (45.6%) - Giá: 189.60
2025-04-04 14:50:52 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán AMZN tại /home/trietvo/BondZiA/charts/AMZN_prediction_20250404_145052.png
2025-04-04 14:50:52 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 14:50:52 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 14:50:52 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 14:50:53 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 14:50:54 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=387.39, predicted=382.51, change=-1.26%, direction=down
2025-04-04 14:50:54 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - intraday: down (6.3%) - Giá: 382.51
2025-04-04 14:50:54 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 14:50:54 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - five_day với mô hình lstm_attention
2025-04-04 14:50:54 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho MSFT
2025-04-04 14:50:55 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - five_day
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 870ms/step
2025-04-04 14:50:56 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=361.54, predicted=374.54, change=3.60%, direction=up
2025-04-04 14:50:56 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - five_day: up (18.0%) - Giá: 374.54
2025-04-04 14:50:56 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 14:50:56 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - monthly với mô hình gpt_enhanced
2025-04-04 14:50:56 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho MSFT
2025-04-04 14:50:56 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - monthly
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 126ms/step
2025-04-04 14:50:56 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=361.54, predicted=380.00, change=5.10%, direction=up
2025-04-04 14:50:56 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - monthly: up (25.5%) - Giá: 380.00
2025-04-04 14:50:57 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán MSFT tại /home/trietvo/BondZiA/charts/MSFT_prediction_20250404_145056.png
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:304 - Chuẩn bị gửi dự đoán với các khung thời gian: {'TSLA': ['intraday', 'five_day', 'monthly'], 'NVDA': ['intraday', 'five_day', 'monthly'], 'PLTR': ['intraday', 'five_day', 'monthly'], 'AMZN': ['intraday', 'five_day', 'monthly'], 'MSFT': ['intraday', 'five_day', 'monthly']}
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=38.48819817309299
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=34.95506229796657
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=36.300817272246725
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - TSLA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - TSLA intraday: direction=up, price=$257.25, confidence=38.5%
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=17.406549581302883
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.35657772401564
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=99.0
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - NVDA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - NVDA intraday: direction=down, price=$107.51, confidence=17.4%
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=31.93833156185257
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.11060463429529
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=72.8362703426353
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - PLTR predictions: intraday=True, five_day=True, monthly=True
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - PLTR intraday: direction=down, price=$76.25, confidence=31.9%
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 3
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá TSLA
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá NVDA
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 3: 🔽 Dự đoán giá PLTR
2025-04-04 14:50:57 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=1.0665589705354765
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=45.72486054125449
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=45.615216810926256
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - AMZN predictions: intraday=True, five_day=True, monthly=True
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - AMZN intraday: direction=up, price=$198.28, confidence=1.1%
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=6.29591052510469
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=17.978869741677933
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=25.524402974407188
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - MSFT predictions: intraday=True, five_day=True, monthly=True
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - MSFT intraday: direction=down, price=$382.51, confidence=6.3%
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['AMZN', 'MSFT']
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 2
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá AMZN
2025-04-04 14:50:58 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá MSFT
2025-04-04 14:50:59 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['AMZN', 'MSFT']
2025-04-04 14:51:00 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 14:51:01 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: TSLA
2025-04-04 14:51:03 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: TSLA
2025-04-04 14:51:05 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: NVDA
2025-04-04 14:51:07 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: NVDA
2025-04-04 14:51:09 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: PLTR
2025-04-04 14:51:11 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: PLTR
2025-04-04 14:51:13 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: AMZN
2025-04-04 14:51:15 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: AMZN
2025-04-04 14:51:17 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: MSFT
2025-04-04 14:51:19 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: MSFT
2025-04-04 14:51:20 | INFO     | utils.telegram_integration:patched_send_prediction:47 - Đã gửi thông báo dự đoán qua Telegram
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 5 cổ phiếu
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho TSLA vào /home/trietvo/BondZiA/prediction_history/TSLA_prediction_20250404_145038.json
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho NVDA vào /home/trietvo/BondZiA/prediction_history/NVDA_prediction_20250404_145038.json
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho PLTR vào /home/trietvo/BondZiA/prediction_history/PLTR_prediction_20250404_145038.json
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho AMZN vào /home/trietvo/BondZiA/prediction_history/AMZN_prediction_20250404_145038.json
2025-04-04 14:51:20 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho MSFT vào /home/trietvo/BondZiA/prediction_history/MSFT_prediction_20250404_145038.json
2025-04-04 14:51:20 | INFO     | __main__:_display_market_info:529 - Thông tin thị trường: 2025-04-04 14:51:20 EDT
2025-04-04 14:51:20 | INFO     | __main__:_display_market_info:530 - Trạng thái: mở cửa
2025-04-04 14:51:20 | INFO     | __main__:start:212 - BondZiA AI đã khởi động thành công
2025-04-04 14:55:34 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 14:55:34 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_145535.json
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:55:35 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 14:55:35 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 14:55:35 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 14:55:35 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:00:36 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:00:36 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_150037.json
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:00:37 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:00:37 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:00:37 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:00:37 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:05:34 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_150535.json
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:36 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:36 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:05:36 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:05:38 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:05:38 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_150540.json
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:05:40 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:05:40 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:05:40 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:05:40 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 15:05:40 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 15:05:41 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:05:42 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=238.86, predicted=257.25, change=7.70%, direction=up
2025-04-04 15:05:42 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - intraday: up (38.5%) - Giá: 257.25
2025-04-04 15:05:43 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán TSLA tại /home/trietvo/BondZiA/charts/TSLA_prediction_20250404_150542.png
2025-04-04 15:05:43 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:05:43 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 15:05:43 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 15:05:43 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 148ms/step
2025-04-04 15:05:43 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=111.39, predicted=107.51, change=-3.48%, direction=down
2025-04-04 15:05:43 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - intraday: down (17.4%) - Giá: 107.51
2025-04-04 15:05:44 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán NVDA tại /home/trietvo/BondZiA/charts/NVDA_prediction_20250404_150543.png
2025-04-04 15:05:44 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:05:44 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 15:05:44 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 15:05:44 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 306ms/step
2025-04-04 15:05:44 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=81.45, predicted=76.25, change=-6.39%, direction=down
2025-04-04 15:05:44 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - intraday: down (31.9%) - Giá: 76.25
2025-04-04 15:05:44 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán PLTR tại /home/trietvo/BondZiA/charts/PLTR_prediction_20250404_150544.png
2025-04-04 15:05:44 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:05:44 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 15:05:44 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 15:05:45 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 134ms/step
2025-04-04 15:05:45 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=197.86, predicted=198.28, change=0.21%, direction=up
2025-04-04 15:05:45 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - intraday: up (1.1%) - Giá: 198.28
2025-04-04 15:05:45 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán AMZN tại /home/trietvo/BondZiA/charts/AMZN_prediction_20250404_150545.png
2025-04-04 15:05:45 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:05:45 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 15:05:45 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 15:05:46 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:05:47 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=387.39, predicted=382.51, change=-1.26%, direction=down
2025-04-04 15:05:47 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - intraday: down (6.3%) - Giá: 382.51
2025-04-04 15:05:48 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán MSFT tại /home/trietvo/BondZiA/charts/MSFT_prediction_20250404_150547.png
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho TSLA
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho TSLA
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho NVDA
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho NVDA
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho PLTR
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho PLTR
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho AMZN
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho AMZN
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho MSFT
2025-04-04 15:05:48 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho MSFT
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:304 - Chuẩn bị gửi dự đoán với các khung thời gian: {'TSLA': ['intraday', 'five_day', 'monthly'], 'NVDA': ['intraday', 'five_day', 'monthly'], 'PLTR': ['intraday', 'five_day', 'monthly'], 'AMZN': ['intraday', 'five_day', 'monthly'], 'MSFT': ['intraday', 'five_day', 'monthly']}
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=38.48819817309299
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=34.95506229796657
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=36.300817272246725
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - TSLA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - TSLA intraday: direction=up, price=$257.25, confidence=38.5%
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=17.406549581302883
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.35657772401564
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=99.0
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - NVDA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - NVDA intraday: direction=down, price=$107.51, confidence=17.4%
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=31.93833156185257
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.11060463429529
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=72.8362703426353
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - PLTR predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - PLTR intraday: direction=down, price=$76.25, confidence=31.9%
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 3
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá TSLA
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá NVDA
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 3: 🔽 Dự đoán giá PLTR
2025-04-04 15:05:48 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=1.0665589705354765
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=45.72486054125449
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=45.615216810926256
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - AMZN predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - AMZN intraday: direction=up, price=$198.28, confidence=1.1%
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=6.29591052510469
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=17.978869741677933
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=25.524402974407188
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - MSFT predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - MSFT intraday: direction=down, price=$382.51, confidence=6.3%
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['AMZN', 'MSFT']
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 2
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá AMZN
2025-04-04 15:05:49 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá MSFT
2025-04-04 15:05:50 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['AMZN', 'MSFT']
2025-04-04 15:05:51 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 15:05:52 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: TSLA
2025-04-04 15:05:54 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: TSLA
2025-04-04 15:05:56 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: NVDA
2025-04-04 15:05:57 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: NVDA
2025-04-04 15:05:59 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: PLTR
2025-04-04 15:06:01 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: PLTR
2025-04-04 15:06:03 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: AMZN
2025-04-04 15:06:06 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: AMZN
2025-04-04 15:06:08 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: MSFT
2025-04-04 15:06:10 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: MSFT
2025-04-04 15:06:11 | INFO     | utils.telegram_integration:patched_send_prediction:47 - Đã gửi thông báo dự đoán qua Telegram
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 5 cổ phiếu
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho TSLA vào /home/trietvo/BondZiA/prediction_history/TSLA_prediction_20250404_150540.json
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho NVDA vào /home/trietvo/BondZiA/prediction_history/NVDA_prediction_20250404_150540.json
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho PLTR vào /home/trietvo/BondZiA/prediction_history/PLTR_prediction_20250404_150540.json
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho AMZN vào /home/trietvo/BondZiA/prediction_history/AMZN_prediction_20250404_150540.json
2025-04-04 15:06:11 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho MSFT vào /home/trietvo/BondZiA/prediction_history/MSFT_prediction_20250404_150540.json
2025-04-04 15:11:11 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:11:11 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_151112.json
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:11:13 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:11:13 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:11:13 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:11:13 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:16:13 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:16:13 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_151614.json
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:16:14 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:16:14 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:16:14 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:16:14 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:20:37 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_152038.json
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:20:38 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:20:38 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:20:38 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:21:15 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:21:15 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_152117.json
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:21:17 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:21:17 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:21:17 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:21:17 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:21:17 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 15:21:17 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 15:21:18 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:21:19 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=238.86, predicted=257.25, change=7.70%, direction=up
2025-04-04 15:21:19 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - intraday: up (38.5%) - Giá: 257.25
2025-04-04 15:21:20 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán TSLA tại /home/trietvo/BondZiA/charts/TSLA_prediction_20250404_152119.png
2025-04-04 15:21:20 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:21:20 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 15:21:20 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 15:21:20 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 137ms/step
2025-04-04 15:21:20 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=111.39, predicted=107.51, change=-3.48%, direction=down
2025-04-04 15:21:20 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - intraday: down (17.4%) - Giá: 107.51
2025-04-04 15:21:21 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán NVDA tại /home/trietvo/BondZiA/charts/NVDA_prediction_20250404_152120.png
2025-04-04 15:21:21 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:21:21 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 15:21:21 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 15:21:21 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 553ms/step
2025-04-04 15:21:21 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=81.45, predicted=76.25, change=-6.39%, direction=down
2025-04-04 15:21:21 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - intraday: down (31.9%) - Giá: 76.25
2025-04-04 15:21:22 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán PLTR tại /home/trietvo/BondZiA/charts/PLTR_prediction_20250404_152121.png
2025-04-04 15:21:22 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:21:22 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 15:21:22 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 15:21:22 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 132ms/step
2025-04-04 15:21:22 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=197.86, predicted=198.28, change=0.21%, direction=up
2025-04-04 15:21:22 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - intraday: up (1.1%) - Giá: 198.28
2025-04-04 15:21:23 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán AMZN tại /home/trietvo/BondZiA/charts/AMZN_prediction_20250404_152122.png
2025-04-04 15:21:23 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:21:23 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 15:21:23 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 15:21:23 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:21:24 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=387.39, predicted=382.51, change=-1.26%, direction=down
2025-04-04 15:21:24 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - intraday: down (6.3%) - Giá: 382.51
2025-04-04 15:21:25 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán MSFT tại /home/trietvo/BondZiA/charts/MSFT_prediction_20250404_152125.png
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho TSLA
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho TSLA
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho NVDA
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho NVDA
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho PLTR
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho PLTR
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho AMZN
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho AMZN
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho MSFT
2025-04-04 15:21:25 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho MSFT
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:304 - Chuẩn bị gửi dự đoán với các khung thời gian: {'TSLA': ['intraday', 'five_day', 'monthly'], 'NVDA': ['intraday', 'five_day', 'monthly'], 'PLTR': ['intraday', 'five_day', 'monthly'], 'AMZN': ['intraday', 'five_day', 'monthly'], 'MSFT': ['intraday', 'five_day', 'monthly']}
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=38.48819817309299
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=34.95506229796657
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=36.300817272246725
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - TSLA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - TSLA intraday: direction=up, price=$257.25, confidence=38.5%
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=17.406549581302883
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.35657772401564
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=99.0
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - NVDA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - NVDA intraday: direction=down, price=$107.51, confidence=17.4%
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=31.93833156185257
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.11060463429529
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=72.8362703426353
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - PLTR predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - PLTR intraday: direction=down, price=$76.25, confidence=31.9%
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 3
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá TSLA
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá NVDA
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 3: 🔽 Dự đoán giá PLTR
2025-04-04 15:21:25 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=1.0665589705354765
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=45.72486054125449
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=45.615216810926256
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - AMZN predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - AMZN intraday: direction=up, price=$198.28, confidence=1.1%
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=6.29591052510469
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=17.978869741677933
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=25.524402974407188
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - MSFT predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - MSFT intraday: direction=down, price=$382.51, confidence=6.3%
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['AMZN', 'MSFT']
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 2
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá AMZN
2025-04-04 15:21:26 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá MSFT
2025-04-04 15:21:27 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['AMZN', 'MSFT']
2025-04-04 15:21:28 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 15:21:29 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: TSLA
2025-04-04 15:21:31 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: TSLA
2025-04-04 15:21:33 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: NVDA
2025-04-04 15:21:35 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: NVDA
2025-04-04 15:21:37 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: PLTR
2025-04-04 15:21:39 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: PLTR
2025-04-04 15:21:41 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: AMZN
2025-04-04 15:21:42 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: AMZN
2025-04-04 15:21:44 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: MSFT
2025-04-04 15:21:46 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: MSFT
2025-04-04 15:21:47 | INFO     | utils.telegram_integration:patched_send_prediction:47 - Đã gửi thông báo dự đoán qua Telegram
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 5 cổ phiếu
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho TSLA vào /home/trietvo/BondZiA/prediction_history/TSLA_prediction_20250404_152117.json
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho NVDA vào /home/trietvo/BondZiA/prediction_history/NVDA_prediction_20250404_152117.json
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho PLTR vào /home/trietvo/BondZiA/prediction_history/PLTR_prediction_20250404_152117.json
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho AMZN vào /home/trietvo/BondZiA/prediction_history/AMZN_prediction_20250404_152117.json
2025-04-04 15:21:47 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho MSFT vào /home/trietvo/BondZiA/prediction_history/MSFT_prediction_20250404_152117.json
2025-04-04 15:26:48 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:26:48 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_152649.json
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:26:49 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:26:49 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:26:49 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:26:49 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:31:49 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:31:49 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_153150.json
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:31:50 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:31:50 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:31:50 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:31:50 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:35:39 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_153540.json
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:35:40 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:35:40 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:35:40 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:36:51 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:36:51 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_153654.json
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:36:54 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:36:54 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:36:54 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:36:54 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:36:54 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 15:36:54 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 15:36:55 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:36:56 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=238.86, predicted=257.25, change=7.70%, direction=up
2025-04-04 15:36:56 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - intraday: up (38.5%) - Giá: 257.25
2025-04-04 15:36:57 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán TSLA tại /home/trietvo/BondZiA/charts/TSLA_prediction_20250404_153656.png
2025-04-04 15:36:57 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:36:57 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 15:36:57 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 15:36:57 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 140ms/step
2025-04-04 15:36:57 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=111.39, predicted=107.51, change=-3.48%, direction=down
2025-04-04 15:36:57 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - intraday: down (17.4%) - Giá: 107.51
2025-04-04 15:36:57 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán NVDA tại /home/trietvo/BondZiA/charts/NVDA_prediction_20250404_153657.png
2025-04-04 15:36:57 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:36:57 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 15:36:57 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 15:36:58 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 295ms/step
2025-04-04 15:36:58 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=81.45, predicted=76.25, change=-6.39%, direction=down
2025-04-04 15:36:58 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - intraday: down (31.9%) - Giá: 76.25
2025-04-04 15:36:58 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán PLTR tại /home/trietvo/BondZiA/charts/PLTR_prediction_20250404_153658.png
2025-04-04 15:36:58 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:36:58 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 15:36:58 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 15:36:58 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 133ms/step
2025-04-04 15:36:59 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=197.86, predicted=198.28, change=0.21%, direction=up
2025-04-04 15:36:59 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - intraday: up (1.1%) - Giá: 198.28
2025-04-04 15:36:59 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán AMZN tại /home/trietvo/BondZiA/charts/AMZN_prediction_20250404_153659.png
2025-04-04 15:36:59 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:36:59 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 15:36:59 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 15:37:00 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:37:01 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=387.39, predicted=382.51, change=-1.26%, direction=down
2025-04-04 15:37:01 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - intraday: down (6.3%) - Giá: 382.51
2025-04-04 15:37:02 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán MSFT tại /home/trietvo/BondZiA/charts/MSFT_prediction_20250404_153701.png
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho TSLA
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho TSLA
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho NVDA
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho NVDA
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho PLTR
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho PLTR
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho AMZN
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho AMZN
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho MSFT
2025-04-04 15:37:02 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho MSFT
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:304 - Chuẩn bị gửi dự đoán với các khung thời gian: {'TSLA': ['intraday', 'five_day', 'monthly'], 'NVDA': ['intraday', 'five_day', 'monthly'], 'PLTR': ['intraday', 'five_day', 'monthly'], 'AMZN': ['intraday', 'five_day', 'monthly'], 'MSFT': ['intraday', 'five_day', 'monthly']}
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=38.48819817309299
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=34.95506229796657
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=36.300817272246725
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - TSLA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - TSLA intraday: direction=up, price=$257.25, confidence=38.5%
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=17.406549581302883
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.35657772401564
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=99.0
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - NVDA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - NVDA intraday: direction=down, price=$107.51, confidence=17.4%
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=31.93833156185257
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.11060463429529
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=72.8362703426353
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - PLTR predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - PLTR intraday: direction=down, price=$76.25, confidence=31.9%
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 3
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá TSLA
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá NVDA
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 3: 🔽 Dự đoán giá PLTR
2025-04-04 15:37:02 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=1.0665589705354765
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=45.72486054125449
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=45.615216810926256
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - AMZN predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - AMZN intraday: direction=up, price=$198.28, confidence=1.1%
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=6.29591052510469
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=17.978869741677933
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=25.524402974407188
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - MSFT predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - MSFT intraday: direction=down, price=$382.51, confidence=6.3%
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['AMZN', 'MSFT']
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 2
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá AMZN
2025-04-04 15:37:03 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá MSFT
2025-04-04 15:37:04 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['AMZN', 'MSFT']
2025-04-04 15:37:05 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 15:37:06 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: TSLA
2025-04-04 15:37:08 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: TSLA
2025-04-04 15:37:10 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: NVDA
2025-04-04 15:37:12 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: NVDA
2025-04-04 15:37:14 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: PLTR
2025-04-04 15:37:15 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: PLTR
2025-04-04 15:37:17 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: AMZN
2025-04-04 15:37:19 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: AMZN
2025-04-04 15:37:21 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: MSFT
2025-04-04 15:37:23 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: MSFT
2025-04-04 15:37:24 | INFO     | utils.telegram_integration:patched_send_prediction:47 - Đã gửi thông báo dự đoán qua Telegram
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 5 cổ phiếu
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho TSLA vào /home/trietvo/BondZiA/prediction_history/TSLA_prediction_20250404_153654.json
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho NVDA vào /home/trietvo/BondZiA/prediction_history/NVDA_prediction_20250404_153654.json
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho PLTR vào /home/trietvo/BondZiA/prediction_history/PLTR_prediction_20250404_153654.json
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho AMZN vào /home/trietvo/BondZiA/prediction_history/AMZN_prediction_20250404_153654.json
2025-04-04 15:37:24 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho MSFT vào /home/trietvo/BondZiA/prediction_history/MSFT_prediction_20250404_153654.json
2025-04-04 15:42:24 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:42:24 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_154225.json
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:42:25 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:42:25 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:42:25 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:42:25 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:47:26 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:47:26 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_154727.json
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:47:27 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:47:27 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:47:27 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:47:27 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 15:50:34 | INFO     | __main__:_display_market_info:529 - Thông tin thị trường: 2025-04-04 15:50:34 EDT
2025-04-04 15:50:34 | INFO     | __main__:_display_market_info:530 - Trạng thái: mở cửa
2025-04-04 15:50:40 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_155042.json
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:50:42 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:50:42 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:50:42 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:52:27 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:52:27 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_155231.json
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:52:31 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:52:31 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:52:31 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:52:31 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:52:31 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 15:52:31 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 15:52:32 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình TSLA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:52:33 | INFO     | models.base_predictor:predict:458 - DEBUG - TSLA prediction details: current=238.86, predicted=257.25, change=7.70%, direction=up
2025-04-04 15:52:33 | INFO     | models.base_predictor:predict:479 - Dự đoán TSLA - intraday: up (38.5%) - Giá: 257.25
2025-04-04 15:52:33 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán TSLA tại /home/trietvo/BondZiA/charts/TSLA_prediction_20250404_155233.png
2025-04-04 15:52:33 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:52:33 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 15:52:33 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 15:52:33 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình NVDA - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 135ms/step
2025-04-04 15:52:33 | INFO     | models.base_predictor:predict:458 - DEBUG - NVDA prediction details: current=111.39, predicted=107.51, change=-3.48%, direction=down
2025-04-04 15:52:33 | INFO     | models.base_predictor:predict:479 - Dự đoán NVDA - intraday: down (17.4%) - Giá: 107.51
2025-04-04 15:52:34 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán NVDA tại /home/trietvo/BondZiA/charts/NVDA_prediction_20250404_155233.png
2025-04-04 15:52:34 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:52:34 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 15:52:34 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 15:52:34 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình PLTR - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 290ms/step
2025-04-04 15:52:34 | INFO     | models.base_predictor:predict:458 - DEBUG - PLTR prediction details: current=81.45, predicted=76.25, change=-6.39%, direction=down
2025-04-04 15:52:34 | INFO     | models.base_predictor:predict:479 - Dự đoán PLTR - intraday: down (31.9%) - Giá: 76.25
2025-04-04 15:52:35 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán PLTR tại /home/trietvo/BondZiA/charts/PLTR_prediction_20250404_155234.png
2025-04-04 15:52:35 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:52:35 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 15:52:35 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 15:52:35 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình AMZN - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 136ms/step
2025-04-04 15:52:35 | INFO     | models.base_predictor:predict:458 - DEBUG - AMZN prediction details: current=197.86, predicted=198.28, change=0.21%, direction=up
2025-04-04 15:52:35 | INFO     | models.base_predictor:predict:479 - Dự đoán AMZN - intraday: up (1.1%) - Giá: 198.28
2025-04-04 15:52:36 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán AMZN tại /home/trietvo/BondZiA/charts/AMZN_prediction_20250404_155235.png
2025-04-04 15:52:36 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 15:52:36 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 15:52:36 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 15:52:36 | INFO     | models.base_predictor:load_model:324 - Đã tải mô hình MSFT - intraday
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 15:52:38 | INFO     | models.base_predictor:predict:458 - DEBUG - MSFT prediction details: current=387.39, predicted=382.51, change=-1.26%, direction=down
2025-04-04 15:52:38 | INFO     | models.base_predictor:predict:479 - Dự đoán MSFT - intraday: down (6.3%) - Giá: 382.51
2025-04-04 15:52:38 | INFO     | utils.visualization:create_price_prediction_chart:267 - Đã lưu biểu đồ dự đoán MSFT tại /home/trietvo/BondZiA/charts/MSFT_prediction_20250404_155238.png
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho TSLA
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho TSLA
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho NVDA
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho NVDA
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho PLTR
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho PLTR
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho AMZN
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho AMZN
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:382 - Bổ sung dự đoán 5 ngày cũ cho MSFT
2025-04-04 15:52:38 | INFO     | __main__:_ensure_complete_predictions:387 - Bổ sung dự đoán 1 tháng cũ cho MSFT
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:304 - Chuẩn bị gửi dự đoán với các khung thời gian: {'TSLA': ['intraday', 'five_day', 'monthly'], 'NVDA': ['intraday', 'five_day', 'monthly'], 'PLTR': ['intraday', 'five_day', 'monthly'], 'AMZN': ['intraday', 'five_day', 'monthly'], 'MSFT': ['intraday', 'five_day', 'monthly']}
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=38.48819817309299
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=34.95506229796657
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=36.300817272246725
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - TSLA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - TSLA intraday: direction=up, price=$257.25, confidence=38.5%
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=17.406549581302883
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.35657772401564
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=99.0
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - NVDA predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - NVDA intraday: direction=down, price=$107.51, confidence=17.4%
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=31.93833156185257
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=85.11060463429529
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=72.8362703426353
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - PLTR predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - PLTR intraday: direction=down, price=$76.25, confidence=31.9%
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 3
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá TSLA
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá NVDA
2025-04-04 15:52:38 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 3: 🔽 Dự đoán giá PLTR
2025-04-04 15:52:39 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['TSLA', 'NVDA', 'PLTR']
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=up, confidence=1.0665589705354765
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=45.72486054125449
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=45.615216810926256
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - AMZN predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - AMZN intraday: direction=up, price=$198.28, confidence=1.1%
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction intraday: original_direction=down, confidence=6.29591052510469
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction five_day: original_direction=up, confidence=17.978869741677933
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_format_prediction:132 - DEBUG - Format prediction monthly: original_direction=up, confidence=25.524402974407188
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_create_stock_embed:201 - DEBUG - MSFT predictions: intraday=True, five_day=True, monthly=True
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:_create_stock_embed:204 - DEBUG - MSFT intraday: direction=down, price=$382.51, confidence=6.3%
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:send_prediction_message:329 - Đang gửi dự đoán cho nhóm cổ phiếu: ['AMZN', 'MSFT']
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:send_prediction_message:330 - Số lượng embeds: 2
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 1: 🔼 Dự đoán giá AMZN
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:send_prediction_message:332 - Embed 2: 🔽 Dự đoán giá MSFT
2025-04-04 15:52:40 | INFO     | utils.discord_notifier:send_prediction_message:339 - Đã gửi thông báo dự đoán cho: ['AMZN', 'MSFT']
2025-04-04 15:52:41 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 15:52:42 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: TSLA
2025-04-04 15:52:44 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: TSLA
2025-04-04 15:52:46 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: NVDA
2025-04-04 15:52:48 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: NVDA
2025-04-04 15:52:50 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: PLTR
2025-04-04 15:52:52 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: PLTR
2025-04-04 15:52:54 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: AMZN
2025-04-04 15:52:56 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: AMZN
2025-04-04 15:52:58 | INFO     | utils.telegram_notifier:send_prediction_message:265 - Đã gửi thông báo dự đoán Telegram cho: MSFT
2025-04-04 15:53:00 | INFO     | utils.telegram_notifier:send_prediction_message:276 - Đã gửi biểu đồ dự đoán Telegram cho: MSFT
2025-04-04 15:53:01 | INFO     | utils.telegram_integration:patched_send_prediction:47 - Đã gửi thông báo dự đoán qua Telegram
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 5 cổ phiếu
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho TSLA vào /home/trietvo/BondZiA/prediction_history/TSLA_prediction_20250404_155231.json
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho NVDA vào /home/trietvo/BondZiA/prediction_history/NVDA_prediction_20250404_155231.json
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho PLTR vào /home/trietvo/BondZiA/prediction_history/PLTR_prediction_20250404_155231.json
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho AMZN vào /home/trietvo/BondZiA/prediction_history/AMZN_prediction_20250404_155231.json
2025-04-04 15:53:01 | INFO     | __main__:_run_predictions:749 - Đã lưu dự đoán cho MSFT vào /home/trietvo/BondZiA/prediction_history/MSFT_prediction_20250404_155231.json
2025-04-04 15:58:01 | INFO     | __main__:_run_predictions:582 - Bắt đầu dự đoán giá cổ phiếu...
2025-04-04 15:58:01 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_155802.json
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:58:02 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 15:58:02 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 15:58:02 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 15:58:02 | INFO     | __main__:_run_predictions:729 - Đã dự đoán giá cho 0 cổ phiếu
2025-04-04 16:01:00 | INFO     | __main__:_check_weekday_evolution:470 - Bắt đầu kiểm tra tiến hóa mô hình theo lịch trình buổi tối ngày thường...
2025-04-04 16:01:00 | INFO     | __main__:_evolve_models:878 - Kiểm tra và huấn luyện mô hình trước khi tiến hóa...
2025-04-04 16:01:00 | INFO     | __main__:_train_all_models:820 - Bắt đầu huấn luyện tất cả các mô hình...
2025-04-04 16:01:00 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_160101.json
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:01 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:01 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 16:01:01 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho TSLA - intraday
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - intraday với mô hình tft
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho TSLA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho TSLA - intraday đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho TSLA - five_day
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - five_day với mô hình lstm_attention
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho TSLA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho TSLA - five_day đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho TSLA - monthly
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho TSLA - monthly với mô hình gpt_enhanced
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho TSLA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho TSLA - monthly đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho NVDA - intraday
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - intraday với mô hình tft
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho NVDA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho NVDA - intraday đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho NVDA - five_day
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - five_day với mô hình lstm_attention
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho NVDA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho NVDA - five_day đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho NVDA - monthly
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho NVDA - monthly với mô hình gpt_enhanced
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho NVDA
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho NVDA - monthly đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho PLTR - intraday
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - intraday với mô hình tft
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho PLTR
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho PLTR - intraday đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho PLTR - five_day
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - five_day với mô hình lstm_attention
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho PLTR
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho PLTR - five_day đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho PLTR - monthly
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho PLTR - monthly với mô hình gpt_enhanced
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho PLTR
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho PLTR - monthly đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho AMZN - intraday
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - intraday với mô hình tft
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho AMZN
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho AMZN - intraday đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho AMZN - five_day
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - five_day với mô hình lstm_attention
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho AMZN
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho AMZN - five_day đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho AMZN - monthly
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho AMZN - monthly với mô hình gpt_enhanced
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho AMZN
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho AMZN - monthly đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho MSFT - intraday
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho intraday: {'lookback_window': 60, 'update_interval': 15, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'tft'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - intraday với mô hình tft
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:30 - Khởi tạo IntradayPredictor cho MSFT
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho MSFT - intraday đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho MSFT - five_day
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho five_day: {'lookback_window': 30, 'update_interval': 1440, 'features': ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'model_type': 'lstm_attention'}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - five_day với mô hình lstm_attention
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:123 - Khởi tạo FiveDayPredictor cho MSFT
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho MSFT - five_day đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:764 - Kiểm tra và huấn luyện mô hình cho MSFT - monthly
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:62 - Sử dụng cấu hình prediction cho monthly: {'lookback_window': 30, 'update_interval': 1440, 'model_type': 'gpt_enhanced', 'features': ['close', 'open', 'high', 'low', 'volume', 'rsi_14', 'macd', 'sma_20', 'ema_9'], 'min_samples': 10, 'use_economic_indicators': True}
2025-04-04 16:01:01 | INFO     | models.base_predictor:__init__:101 - Khởi tạo BasePredictor cho MSFT - monthly với mô hình gpt_enhanced
2025-04-04 16:01:01 | INFO     | models.specific_predictors:__init__:222 - Khởi tạo MonthlyPredictor cho MSFT
2025-04-04 16:01:01 | INFO     | __main__:_train_model_if_needed:785 - Mô hình cho MSFT - monthly đã tồn tại, không cần huấn luyện
2025-04-04 16:01:01 | INFO     | __main__:_train_all_models:835 - Đã huấn luyện 15/15 mô hình
2025-04-04 16:01:01 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 16:01:03 | INFO     | utils.telegram_integration:patched_send_system_update:65 - Đã gửi thông báo hệ thống qua Telegram
2025-04-04 16:01:03 | INFO     | utils.telegram_notifier:__init__:48 - Khởi tạo Telegram Notifier thành công
2025-04-04 16:01:04 | INFO     | utils.telegram_integration:patched_send_system_update:65 - Đã gửi thông báo hệ thống qua Telegram
2025-04-04 16:01:04 | INFO     | __main__:_evolve_models:887 - Bắt đầu tiến hóa mô hình...
2025-04-04 16:01:04 | INFO     | __main__:_update_data:495 - Đang cập nhật dữ liệu...
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_market_data:646 - Đã lưu dữ liệu thị trường vào /home/trietvo/BondZiA/data/raw/market_data_20250404_160104.json
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho TSLA vào /home/trietvo/BondZiA/data/raw/TSLA_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho NVDA vào /home/trietvo/BondZiA/data/raw/NVDA_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho PLTR vào /home/trietvo/BondZiA/data/raw/PLTR_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho AMZN vào /home/trietvo/BondZiA/data/raw/AMZN_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:05 | INFO     | utils.data_fetcher:save_daily_data_as_csv:708 - Đã lưu dữ liệu ngày cho MSFT vào /home/trietvo/BondZiA/data/raw/MSFT_daily_2025-01-06_2025-04-04.csv
2025-04-04 16:01:05 | ERROR    | __main__:_update_data:514 - Lỗi khi cập nhật dữ liệu: 'PolygonDataFetcher' object has no attribute 'data_dir'
2025-04-04 16:01:05 | ERROR    | __main__:_update_data:515 - Traceback (most recent call last):
  File "/home/trietvo/BondZiA/main.py", line 507, in _update_data
    self.data_fetcher.save_data_to_disk(data, filename=f"market_data_{timestamp}.json")
  File "/home/trietvo/BondZiA/utils/data_fetcher.py", line 724, in save_data_to_disk
    file_path = os.path.join(self.data_dir, filename)
AttributeError: 'PolygonDataFetcher' object has no attribute 'data_dir'

2025-04-04 16:01:05 | INFO     | evolution.version_manager:create_new_version:104 - Đã tạo phiên bản mới 1.0.15 tại /home/trietvo/BondZiA/BondZiA_versions/BondZiA_v1.0.15
2025-04-04 16:01:05 | INFO     | evolution.version_manager:_cleanup_old_versions:130 - Đã xóa phiên bản cũ 1.0.9
2025-04-04 16:01:05 | INFO     | evolution.version_manager:_cleanup_old_versions:130 - Đã xóa phiên bản cũ 1.0.10
2025-04-04 16:01:05 | INFO     | __main__:_evolve_models:895 - Tạo phiên bản mới: /home/trietvo/BondZiA/BondZiA_versions/BondZiA_v1.0.15
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:__init__:560 - Khởi tạo ModelEvolutionManager với 5 cổ phiếu
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:evolve_all_models:604 - Bắt đầu tiến hóa tất cả các mô hình tại 2025-04-04T16:01:05.149341
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:evolve_all_models:643 - Tiến hóa mô hình TSLA - intraday
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:__init__:73 - Khởi tạo HyperparameterTuner cho TSLA - intraday
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:tune:419 - Bắt đầu tối ưu hóa siêu tham số cho TSLA - intraday
2025-04-04 16:01:05 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 1/30: transformer, layers: 1, units: [32], lr: 0.005
1/6 [====>.........................] - ETA: 0s6/6 [==============================] - 0s 5ms/step
2025-04-04 16:01:21 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 1 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:01:21 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 2/30: transformer, layers: 3, units: [128, 32, 32], lr: 0.0005
1/6 [====>.........................] - ETA: 1s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 0s 15ms/step
2025-04-04 16:01:41 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 2 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:01:41 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 3/30: transformer, layers: 3, units: [64, 64, 128], lr: 0.0001
1/6 [====>.........................] - ETA: 0s6/6 [==============================] - 0s 9ms/step
2025-04-04 16:05:04 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 3 results: RMSE: 11.3739, Direction Accuracy: 44.44%
2025-04-04 16:05:04 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 11.3739
2025-04-04 16:05:04 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 4/30: lstm, layers: 1, units: [256], lr: 0.0005
1/6 [====>.........................] - ETA: 1s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 38ms/step
2025-04-04 16:09:28 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 4 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:09:28 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 5/30: lstm, layers: 2, units: [64, 64], lr: 0.005
1/6 [====>.........................] - ETA: 3s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 51ms/step
2025-04-04 16:09:43 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 5 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:09:43 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 6/30: lstm, layers: 4, units: [64, 64, 128, 64], lr: 0.01
1/6 [====>.........................] - ETA: 7s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 2s 65ms/step
2025-04-04 16:10:52 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 6 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:10:52 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 7/30: gru, layers: 2, units: [128, 128], lr: 0.0001
1/6 [====>.........................] - ETA: 4s2/6 [=========>....................] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 53ms/step
2025-04-04 16:13:49 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 7 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:13:49 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 8/30: transformer, layers: 2, units: [128, 256], lr: 0.01
1/6 [====>.........................] - ETA: 1s4/6 [===================>..........] - ETA: 0s6/6 [==============================] - 0s 21ms/step
2025-04-04 16:14:33 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 8 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:14:33 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 9/30: gru, layers: 2, units: [128, 256], lr: 0.0001
1/6 [====>.........................] - ETA: 3s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 70ms/step
2025-04-04 16:29:00 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 9 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:29:00 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 10/30: lstm, layers: 1, units: [256], lr: 0.001
1/6 [====>.........................] - ETA: 2s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 55ms/step
2025-04-04 16:32:57 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 10 results: RMSE: 10.6431, Direction Accuracy: 44.44%
2025-04-04 16:32:57 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 10.6431
2025-04-04 16:32:57 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 11/30: gru, layers: 2, units: [64, 64], lr: 0.0005
1/6 [====>.........................] - ETA: 3s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 31ms/step
2025-04-04 16:33:36 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 11 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:33:36 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 12/30: lstm, layers: 4, units: [128, 128, 32, 256], lr: 0.005
1/6 [====>.........................] - ETA: 7s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 2s 113ms/step
2025-04-04 16:36:05 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 12 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:36:05 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 13/30: gru, layers: 2, units: [256, 64], lr: 0.01
1/6 [====>.........................] - ETA: 3s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 44ms/step
2025-04-04 16:39:56 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 13 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:39:56 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 14/30: lstm, layers: 4, units: [256, 32, 128, 32], lr: 0.0005
1/6 [====>.........................] - ETA: 6s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 2s 74ms/step
2025-04-04 16:53:26 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 14 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:53:26 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 15/30: transformer, layers: 3, units: [64, 64, 32], lr: 0.0001
1/6 [====>.........................] - ETA: 1s6/6 [==============================] - 0s 8ms/step
2025-04-04 16:53:56 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 15 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 16:53:56 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 16/30: lstm, layers: 2, units: [256, 32], lr: 0.0005
1/6 [====>.........................] - ETA: 4s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 56ms/step
2025-04-04 16:58:30 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 16 results: RMSE: 7.9928, Direction Accuracy: 44.44%
2025-04-04 16:58:30 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 7.9928
2025-04-04 16:58:30 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 17/30: lstm, layers: 2, units: [256, 32], lr: 0.01
1/6 [====>.........................] - ETA: 3s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 41ms/step
2025-04-04 17:02:12 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 17 results: RMSE: 29.5496, Direction Accuracy: 44.44%
2025-04-04 17:02:12 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 18/30: transformer, layers: 4, units: [128, 256, 32, 64], lr: 0.0001
1/6 [====>.........................] - ETA: 1s6/6 [==============================] - ETA: 0s6/6 [==============================] - 0s 12ms/step
2025-04-04 17:05:37 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 18 results: RMSE: 7.4328, Direction Accuracy: 44.44%
2025-04-04 17:05:37 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 7.4328
2025-04-04 17:05:37 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 19/30: transformer, layers: 4, units: [256, 32, 256, 256], lr: 0.0001
1/6 [====>.........................] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 0s 16ms/step
2025-04-04 17:07:01 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 19 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 17:07:01 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 20/30: transformer, layers: 2, units: [32, 32], lr: 0.0001
1/6 [====>.........................] - ETA: 1s3/6 [==============>...............] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 0s 24ms/step
2025-04-04 17:08:03 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 20 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 17:08:03 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 21/30: transformer, layers: 4, units: [128, 128, 256, 64], lr: 0.0001
1/6 [====>.........................] - ETA: 1s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 0s 14ms/step
2025-04-04 17:09:28 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 21 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 17:09:28 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 22/30: gru, layers: 2, units: [64, 64], lr: 0.01
1/6 [====>.........................] - ETA: 3s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 36ms/step
2025-04-04 17:09:44 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 22 results: RMSE: 21.5588, Direction Accuracy: 44.44%
2025-04-04 17:09:44 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 23/30: transformer, layers: 4, units: [256, 256, 32, 32], lr: 0.005
1/6 [====>.........................] - ETA: 1s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 0s 17ms/step
2025-04-04 17:10:45 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 23 results: RMSE: 30.3153, Direction Accuracy: 44.44%
2025-04-04 17:10:45 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 24/30: lstm, layers: 3, units: [256, 128, 64], lr: 0.005
1/6 [====>.........................] - ETA: 6s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 2s 84ms/step
2025-04-04 17:17:19 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 24 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 17:17:19 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 25/30: gru, layers: 3, units: [256, 256, 256], lr: 0.0001
1/6 [====>.........................] - ETA: 5s2/6 [=========>....................] - ETA: 0s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 72ms/step
2025-04-04 18:12:34 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 25 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 18:12:34 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 26/30: transformer, layers: 4, units: [128, 64, 64, 128], lr: 0.0005
1/6 [====>.........................] - ETA: 1s6/6 [==============================] - 0s 9ms/step
2025-04-04 18:12:46 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 26 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 18:12:46 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 27/30: lstm, layers: 1, units: [128], lr: 0.0001
1/6 [====>.........................] - ETA: 1s3/6 [==============>...............] - ETA: 0s4/6 [===================>..........] - ETA: 0s6/6 [==============================] - ETA: 0s6/6 [==============================] - 1s 45ms/step
2025-04-04 18:13:35 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 27 results: RMSE: nan, Direction Accuracy: 44.44%
2025-04-04 18:13:35 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 28/30: lstm, layers: 1, units: [256], lr: 0.01
1/6 [====>.........................] - ETA: 2s3/6 [==============>...............] - ETA: 0s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 1s 36ms/step
2025-04-04 18:17:07 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 28 results: RMSE: 24.3745, Direction Accuracy: 44.44%
2025-04-04 18:17:07 | INFO     | evolution.hyperparameter_tuner:tune:471 - Early stopping after 28 trials without improvement
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:tune:511 - Đã lưu mô hình và kết quả tối ưu siêu tham số cho TSLA - intraday
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:evolve_model:583 - Thành công: Tiến hóa mô hình TSLA - intraday
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:evolve_all_models:643 - Tiến hóa mô hình TSLA - five_day
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:__init__:73 - Khởi tạo HyperparameterTuner cho TSLA - five_day
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:tune:419 - Bắt đầu tối ưu hóa siêu tham số cho TSLA - five_day
2025-04-04 18:17:08 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 1/30: transformer, layers: 1, units: [32], lr: 0.0001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 336ms/step
2025-04-04 18:17:12 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 1 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:17:12 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 2/30: transformer, layers: 4, units: [32, 64, 64, 64], lr: 0.005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 148ms/step
2025-04-04 18:17:15 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 2 results: RMSE: 12.2602, Direction Accuracy: 66.67%
2025-04-04 18:17:15 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 12.2602
2025-04-04 18:17:15 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 3/30: gru, layers: 3, units: [64, 256, 256], lr: 0.0001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 18:18:25 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 3 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:18:25 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 4/30: gru, layers: 2, units: [64, 256], lr: 0.0005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 635ms/step
2025-04-04 18:19:10 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 4 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:19:10 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 5/30: gru, layers: 2, units: [256, 128], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 673ms/step
2025-04-04 18:19:55 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 5 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:19:55 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 6/30: lstm, layers: 3, units: [128, 256, 128], lr: 0.01
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 18:20:20 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 6 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:20:20 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 7/30: gru, layers: 4, units: [32, 256, 64, 128], lr: 0.01
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 18:21:02 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 7 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:21:02 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 8/30: gru, layers: 2, units: [128, 128], lr: 0.005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 729ms/step
2025-04-04 18:21:12 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 8 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:21:12 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 9/30: transformer, layers: 3, units: [128, 64, 32], lr: 0.0005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 216ms/step
2025-04-04 18:21:15 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 9 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:21:15 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 10/30: transformer, layers: 1, units: [64], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 331ms/step
2025-04-04 18:21:22 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 10 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:21:22 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 11/30: gru, layers: 2, units: [32, 64], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 740ms/step
2025-04-04 18:21:40 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 11 results: RMSE: 16.0697, Direction Accuracy: 66.67%
2025-04-04 18:21:40 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 12/30: gru, layers: 2, units: [256, 256], lr: 0.0005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 743ms/step
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 12 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:tune:471 - Early stopping after 12 trials without improvement
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:tune:511 - Đã lưu mô hình và kết quả tối ưu siêu tham số cho TSLA - five_day
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:evolve_model:583 - Thành công: Tiến hóa mô hình TSLA - five_day
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:evolve_all_models:643 - Tiến hóa mô hình TSLA - monthly
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:__init__:73 - Khởi tạo HyperparameterTuner cho TSLA - monthly
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:tune:419 - Bắt đầu tối ưu hóa siêu tham số cho TSLA - monthly
2025-04-04 18:22:13 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 1/30: gru, layers: 1, units: [32], lr: 0.0005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 405ms/step
2025-04-04 18:22:23 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 1 results: RMSE: 12.2389, Direction Accuracy: 66.67%
2025-04-04 18:22:23 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 12.2389
2025-04-04 18:22:23 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 2/30: transformer, layers: 1, units: [256], lr: 0.0005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 336ms/step
2025-04-04 18:22:32 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 2 results: RMSE: 12.2334, Direction Accuracy: 66.67%
2025-04-04 18:22:32 | INFO     | evolution.hyperparameter_tuner:tune:465 - New best model found! rmse: 12.2334
2025-04-04 18:22:32 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 3/30: gru, layers: 4, units: [256, 64, 128, 128], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 18:22:57 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 3 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:22:57 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 4/30: lstm, layers: 3, units: [128, 128, 128], lr: 0.005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 1s/step
2025-04-04 18:23:08 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 4 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:23:08 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 5/30: transformer, layers: 1, units: [128], lr: 0.0001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 945ms/step
2025-04-04 18:23:16 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 5 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:23:16 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 6/30: lstm, layers: 1, units: [256], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 438ms/step
2025-04-04 18:23:34 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 6 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:23:34 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 7/30: transformer, layers: 3, units: [32, 128, 64], lr: 0.001
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 337ms/step
2025-04-04 18:23:40 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 7 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:23:40 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 8/30: lstm, layers: 1, units: [256], lr: 0.005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 363ms/step
2025-04-04 18:25:04 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 8 results: RMSE: 12.2379, Direction Accuracy: 66.67%
2025-04-04 18:25:04 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 9/30: transformer, layers: 4, units: [256, 128, 128, 32], lr: 0.01
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 348ms/step
2025-04-04 18:25:09 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 9 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:25:09 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 10/30: lstm, layers: 1, units: [128], lr: 0.01
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 428ms/step
2025-04-04 18:25:13 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 10 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:25:13 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 11/30: transformer, layers: 4, units: [128, 64, 256, 64], lr: 0.01
1/1 [==============================] - ETA: 0s1/1 [==============================] - 0s 213ms/step
2025-04-04 18:25:17 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 11 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:25:17 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 12/30: transformer, layers: 1, units: [64], lr: 0.005
1/1 [==============================] - ETA: 0s1/1 [==============================] - 1s 902ms/step
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 12 results: RMSE: nan, Direction Accuracy: 66.67%
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:tune:471 - Early stopping after 12 trials without improvement
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:tune:511 - Đã lưu mô hình và kết quả tối ưu siêu tham số cho TSLA - monthly
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:evolve_model:583 - Thành công: Tiến hóa mô hình TSLA - monthly
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:evolve_all_models:643 - Tiến hóa mô hình NVDA - intraday
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:__init__:73 - Khởi tạo HyperparameterTuner cho NVDA - intraday
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:tune:419 - Bắt đầu tối ưu hóa siêu tham số cho NVDA - intraday
2025-04-04 18:25:24 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 1/30: transformer, layers: 2, units: [256, 32], lr: 0.0001
1/6 [====>.........................] - ETA: 1s6/6 [==============================] - ETA: 0s6/6 [==============================] - 0s 11ms/step
2025-04-04 18:26:12 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 1 results: RMSE: nan, Direction Accuracy: 46.52%
2025-04-04 18:26:12 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 2/30: transformer, layers: 2, units: [256, 256], lr: 0.001
1/6 [====>.........................] - ETA: 1s6/6 [==============================] - ETA: 0s6/6 [==============================] - 0s 12ms/step
2025-04-04 18:26:30 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 2 results: RMSE: nan, Direction Accuracy: 46.52%
2025-04-04 18:26:30 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 3/30: transformer, layers: 1, units: [128], lr: 0.001
1/6 [====>.........................] - ETA: 1s5/6 [========================>.....] - ETA: 0s6/6 [==============================] - 0s 13ms/step
2025-04-04 18:27:34 | INFO     | evolution.hyperparameter_tuner:tune:453 - Trial 3 results: RMSE: nan, Direction Accuracy: 46.52%
2025-04-04 18:27:34 | INFO     | evolution.hyperparameter_tuner:tune:426 - Trial 4/30: transformer, layers: 2, units: [256, 64], lr: 0.0001
